asyncapi: 3.0.0
info:
  title: "ZenWave Online Food Delivery - Customers Module"
  version: 0.0.1
  tags:
    - name: "Default"
    - name: "Customer"

defaultContentType: application/json

servers:
  development:
    host: localhost:9092
    description: Development AMQP broker.
    protocol: kafka

channels:
  CustomerEventsChannel:
    $ref: "../../../../../../asyncapi/asyncapi-centralized-channels.yml#/channels/CustomerEventsChannel"
  CustomerAddressEventsChannel:
    $ref: "../../../../../../asyncapi/asyncapi-centralized-channels.yml#/channels/CustomerAddressEventsChannel"

operations:
  onCustomerEvent:
    action: send
    tags:
      - name: Customer
    channel:
      $ref: '#/channels/CustomerEventsChannel'
  onCustomerAddressUpdated:
    action: send
    tags:
      - name: Customer
    channel:
      $ref: '#/channels/CustomerAddressEventsChannel'
