asyncapi: 3.0.0
info:
  title: "ZenWave Online Food Delivery - Restaurants Module"
  version: 0.0.1
  tags:
    - name: "Default"
    - name: "RestaurantBackOffice"
    - name: "RestaurantOrders"

defaultContentType: application/json

channels:
  KitchenOrdersStatusChannel:
    $ref: "../../../../../../asyncapi/asyncapi-channels-menu.yml#/channels/KitchenOrdersStatusChannel"
# client channels
  OrdersChannel:
    $ref: "../../../../../../asyncapi/asyncapi-channels-menu.yml#/channels/OrdersChannel"
  OrderUpdatesChannel:
    $ref: "../../../../../../asyncapi/asyncapi-channels-menu.yml#/channels/OrderUpdatesChannel"

operations:
  onKitchenOrderStatusUpdated:
    action: send
    tags:
      - name: RestaurantOrders
    channel:
      $ref: '#/channels/KitchenOrdersStatusChannel'
# client operations
  onOrderEventAtRestaurants:
    action: receive
    tags:
      - name: Orders
    channel:
      $ref: '#/channels/OrdersChannel'
  onOrderStatusUpdatedAtRestaurants:
    action: receive
    tags:
      - name: Orders
    channel:
      $ref: '#/channels/OrderUpdatesChannel'
